---
// Import the styles that will be in the light DOM
import "./circuit/styles.css";
import { HOME_MESSAGES } from "../locales/home";

const { lang = 'en', heading = 'Interactive Circuit' } = Astro.props as { lang?: string; heading?: string };
const t = HOME_MESSAGES[lang as keyof typeof HOME_MESSAGES]?.builder;
const labels = {
  qubits: t?.qubits || 'Qubits',
  measurementProbabilities: t?.measurementProbabilities || 'Measurement Probabilities',
};
---
<section class="mq-circuit-section">
  <h2 class="mq-circuit-heading">{heading}</h2>
  <mq-circuit-builder lang={lang} data-label-qubits={labels.qubits} data-label-probs={labels.measurementProbabilities}></mq-circuit-builder>
</section>

<script>
  // Import and register the custom element
  import "/src/components/circuit/QuantumCircuitElement.ts";
</script>

<style>
  .mq-circuit-section { margin: 2rem 0; }
  .mq-circuit-heading { margin: 0 0 1rem; }
  mq-circuit-builder { display: block; width: 100%; }
</style>
