---
import { LANGS, DEFAULT_LANG, type Lang } from "../../config/i18n";
const BASE = import.meta.env.BASE_URL || '/';
const SUFFIX = import.meta.env.DEV ? 'index.html' : '';
const target = `${BASE}docs/api/en/${SUFFIX}`;
const alternates = Object.fromEntries(
  LANGS.map((l: Lang) => [l, `${BASE}docs/api/${l}/${SUFFIX}`])
) as Record<Lang, string>;
Astro.redirect(target);
---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="refresh" content={`0; url=${target}`} />
    <link rel="canonical" href={target} />
    {Object.entries(alternates).map(([code, href]) => (
      <link rel="alternate" hreflang={code} href={href} />
    ))}
    <link rel="alternate" hreflang="x-default" href={alternates[DEFAULT_LANG]} />
    <title>Redirecting…</title>
  </head>
  <body>
    <p>Redirecting to <a href={target}>API (EN)</a>…</p>
  </body>
</html>
